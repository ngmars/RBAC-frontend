{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nitish/Desktop/rbac/React-app/rbac-front/src/Containers/Dashboard/CreateRole/CreateRole.js\",\n    _s = $RefreshSig$();\n\nimport * as actions from '../../../Store/Actions/Index';\nimport { Redirect } from 'react-router-dom';\nimport Input from '../../../Components/UI/Input/input';\nimport Navbar from '../../../Components/Navbar/Navbar';\nimport Sidebar from '../../../Components/Sidebar/Sidebar';\nimport React, { Component, useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport FormData from 'form-data';\nimport OneRole from '../../../Components/OneRole/OneRole';\nimport classes from './CreateRole.css';\n\nconst CreateRole = props => {\n  _s();\n\n  //USE EFFECT COMPONENTS\n  useEffect(() => {\n    let token = localStorage.getItem('token');\n    props.onFetchOrganizations(token);\n    props.onFetchAllPermissions(token);\n  }, []); //USE STATE COMPONENTS\n\n  const [isPermLod, SetIsPermLod] = useState(true);\n  const [createOrgForm, SetcreateOrgForm] = useState({\n    name: {\n      elementType: 'input',\n      elementConfig: {\n        className: 'formcontrol',\n        type: 'text',\n        placeholder: 'Role Name'\n      },\n      value: '',\n      validation: {\n        required: true\n      },\n      valid: false,\n      touched: false\n    },\n    organization: {\n      label: 'Organization',\n      elementType: 'dropdown',\n      elementConfig: {\n        className: 'formcontrol'\n      },\n      options: '',\n      value: 0,\n      valid: false,\n      touched: false\n    },\n    permissions: {\n      label: 'Permissions',\n      elementType: 'select-multiple',\n      elementConfig: {\n        className: 'formcontrol',\n        options: []\n      },\n      options: '',\n      value: [],\n      valid: false,\n      touched: false\n    },\n    permisson_loaded: {\n      label: 'Permission Loaded',\n      elementType: 'check-box',\n      value: isPermLod\n    }\n  }); //VALIDITY CHECK\n\n  const checkValidity = (value, rules) => {\n    let isValid = true;\n\n    if (!rules) {\n      return true;\n    }\n\n    if (rules.required) {\n      isValid = value.trim() !== '' && isValid;\n    }\n\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n\n    if (rules.isEmail) {\n      const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    return isValid;\n  }; //UI COMPONENTS\n\n\n  let sidebar = /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 19\n  }, this);\n\n  let navbar = /*#__PURE__*/_jsxDEV(Navbar, {\n    name: localStorage.getItem('name')\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 19\n  }, this);\n\n  let count = 0;\n\n  let form = /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 16\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [navbar, sidebar, /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"CrtOrgForm\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"SUBMIT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateRole, \"FGNzyBCjcVN27keNBZXI01oTgG8=\");\n\n_c = CreateRole;\n\nconst mapAllOrganizationsDispatchToProps = dispatch => {\n  return {\n    onFetchOrganizations: token => dispatch(actions.fetchOrganizations(token)),\n    onFetchAllPermissions: token => dispatch(actions.fetchAllPermissions(token)) //onCreateOrg:(name,email,owner,users,permissions_loaded,token)=>dispatch(actions.createOrg(name,email,owner,users,permissions_loaded,token))\n\n  };\n}; //to access the errors and loading state \n\n\nconst mapStatetoProps = state => {\n  console.log('main page crtrole', state);\n  return {\n    AllUsers: state.AllUsers.AllUsers,\n    loading: state.AllUsers.loading,\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStatetoProps, mapAllOrganizationsDispatchToProps)(CreateRole);\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateRole\");","map":{"version":3,"sources":["/Users/nitish/Desktop/rbac/React-app/rbac-front/src/Containers/Dashboard/CreateRole/CreateRole.js"],"names":["actions","Redirect","Input","Navbar","Sidebar","React","Component","useState","useEffect","connect","FormData","OneRole","classes","CreateRole","props","token","localStorage","getItem","onFetchOrganizations","onFetchAllPermissions","isPermLod","SetIsPermLod","createOrgForm","SetcreateOrgForm","name","elementType","elementConfig","className","type","placeholder","value","validation","required","valid","touched","organization","label","options","permissions","permisson_loaded","checkValidity","rules","isValid","trim","minLength","length","maxLength","isEmail","pattern","test","isNumeric","sidebar","navbar","count","form","mapAllOrganizationsDispatchToProps","dispatch","fetchOrganizations","fetchAllPermissions","mapStatetoProps","state","console","log","AllUsers","loading","auth"],"mappings":";;;;;AAAA,OAAO,KAAKA,OAAZ,MAAyB,8BAAzB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,oCAAlB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,OAAP,MAAoB,qCAApB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,OAAP,MAAoB,qCAApB;AACA,OAAOC,OAAP,MAAoB,kBAApB;;AACA,MAAMC,UAAU,GAAGC,KAAK,IAAG;AAAA;;AACvB;AACAN,EAAAA,SAAS,CAAE,MAAI;AACX,QAAIO,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACAH,IAAAA,KAAK,CAACI,oBAAN,CAA2BH,KAA3B;AACAD,IAAAA,KAAK,CAACK,qBAAN,CAA4BJ,KAA5B;AACH,GAJQ,EAIP,EAJO,CAAT,CAFuB,CAQvB;;AAGA,QAAM,CAACK,SAAD,EAAWC,YAAX,IAA0Bd,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACe,aAAD,EAAeC,gBAAf,IAAkChB,QAAQ,CAAC;AAC7CiB,IAAAA,IAAI,EAAE;AACFC,MAAAA,WAAW,EAAE,OADX;AAEFC,MAAAA,aAAa,EAAE;AACXC,QAAAA,SAAS,EAAC,aADC;AAEXC,QAAAA,IAAI,EAAE,MAFK;AAGXC,QAAAA,WAAW,EAAE;AAHF,OAFb;AAOFC,MAAAA,KAAK,EAAE,EAPL;AAQFC,MAAAA,UAAU,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF,OARV;AAWFC,MAAAA,KAAK,EAAE,KAXL;AAYFC,MAAAA,OAAO,EAAE;AAZP,KADuC;AAe7CC,IAAAA,YAAY,EAAE;AACVC,MAAAA,KAAK,EAAC,cADI;AAEVX,MAAAA,WAAW,EAAE,UAFH;AAGVC,MAAAA,aAAa,EAAE;AACXC,QAAAA,SAAS,EAAC;AADC,OAHL;AAOVU,MAAAA,OAAO,EAAC,EAPE;AAQVP,MAAAA,KAAK,EAAE,CARG;AASVG,MAAAA,KAAK,EAAE,KATG;AAUVC,MAAAA,OAAO,EAAE;AAVC,KAf+B;AA2B7CI,IAAAA,WAAW,EAAE;AACTF,MAAAA,KAAK,EAAC,aADG;AAETX,MAAAA,WAAW,EAAE,iBAFJ;AAGTC,MAAAA,aAAa,EAAE;AACXC,QAAAA,SAAS,EAAC,aADC;AAEXU,QAAAA,OAAO,EAAC;AAFG,OAHN;AAOTA,MAAAA,OAAO,EAAC,EAPC;AAQTP,MAAAA,KAAK,EAAE,EARE;AASTG,MAAAA,KAAK,EAAE,KATE;AAUTC,MAAAA,OAAO,EAAE;AAVA,KA3BgC;AAuC7CK,IAAAA,gBAAgB,EAAC;AACbH,MAAAA,KAAK,EAAE,mBADM;AAEbX,MAAAA,WAAW,EAAE,WAFA;AAGbK,MAAAA,KAAK,EAAEV;AAHM;AAvC4B,GAAD,CAAhD,CAZuB,CA2DvB;;AACA,QAAMoB,aAAa,GAAC,CAACV,KAAD,EAAQW,KAAR,KAAiB;AACjC,QAAIC,OAAO,GAAG,IAAd;;AACA,QAAI,CAACD,KAAL,EAAY;AACR,aAAO,IAAP;AACH;;AAED,QAAIA,KAAK,CAACT,QAAV,EAAoB;AAChBU,MAAAA,OAAO,GAAGZ,KAAK,CAACa,IAAN,OAAiB,EAAjB,IAAuBD,OAAjC;AACH;;AAED,QAAID,KAAK,CAACG,SAAV,EAAqB;AACjBF,MAAAA,OAAO,GAAGZ,KAAK,CAACe,MAAN,IAAgBJ,KAAK,CAACG,SAAtB,IAAmCF,OAA7C;AACH;;AAED,QAAID,KAAK,CAACK,SAAV,EAAqB;AACjBJ,MAAAA,OAAO,GAAGZ,KAAK,CAACe,MAAN,IAAgBJ,KAAK,CAACK,SAAtB,IAAmCJ,OAA7C;AACH;;AAED,QAAID,KAAK,CAACM,OAAV,EAAmB;AACf,YAAMC,OAAO,GAAG,uIAAhB;AACAN,MAAAA,OAAO,GAAGM,OAAO,CAACC,IAAR,CAAanB,KAAb,KAAuBY,OAAjC;AACH;;AAED,QAAID,KAAK,CAACS,SAAV,EAAqB;AACjB,YAAMF,OAAO,GAAG,OAAhB;AACAN,MAAAA,OAAO,GAAGM,OAAO,CAACC,IAAR,CAAanB,KAAb,KAAuBY,OAAjC;AACH;;AAED,WAAOA,OAAP;AACH,GA7BD,CA5DuB,CA4FvB;;;AACA,MAAIS,OAAO,gBAAG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UAAd;;AACA,MAAIC,MAAM,gBAAI,QAAC,MAAD;AAAQ,IAAA,IAAI,EAAGpC,YAAY,CAACC,OAAb,CAAqB,MAArB;AAAf;AAAA;AAAA;AAAA;AAAA,UAAd;;AACA,MAAIoC,KAAK,GAAG,CAAZ;;AACA,MAAIC,IAAI,gBAAG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UAAX;;AAEA,sBACI;AAAA,eACKF,MADL,EAEKD,OAFL,eAGI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AASC,CA3GL;;GAAMtC,U;;KAAAA,U;;AA+GN,MAAM0C,kCAAkC,GAAEC,QAAQ,IAAI;AAElD,SAAM;AACFtC,IAAAA,oBAAoB,EAAEH,KAAD,IAAUyC,QAAQ,CAACxD,OAAO,CAACyD,kBAAR,CAA2B1C,KAA3B,CAAD,CADrC;AAEFI,IAAAA,qBAAqB,EAAEJ,KAAD,IAAUyC,QAAQ,CAACxD,OAAO,CAAC0D,mBAAR,CAA4B3C,KAA5B,CAAD,CAFtC,CAGF;;AAHE,GAAN;AAKH,CAPD,C,CAUA;;;AACA,MAAM4C,eAAe,GAAGC,KAAK,IAAG;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCF,KAAhC;AACA,SAAO;AACPG,IAAAA,QAAQ,EAAEH,KAAK,CAACG,QAAN,CAAeA,QADlB;AAEPC,IAAAA,OAAO,EAACJ,KAAK,CAACG,QAAN,CAAeC,OAFhB;AAGPjD,IAAAA,KAAK,EAAC6C,KAAK,CAACK,IAAN,CAAWlD;AAHV,GAAP;AAKH,CAPD;;AAUA,eAAeN,OAAO,CAACkD,eAAD,EAAkBJ,kCAAlB,CAAP,CAA6D1C,UAA7D,CAAf","sourcesContent":["import * as actions from '../../../Store/Actions/Index'; \nimport {Redirect} from 'react-router-dom';\nimport Input from '../../../Components/UI/Input/input';\nimport Navbar from '../../../Components/Navbar/Navbar';\nimport Sidebar from '../../../Components/Sidebar/Sidebar';\nimport React, { Component, useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport FormData from 'form-data'; \nimport OneRole from '../../../Components/OneRole/OneRole';\nimport classes from './CreateRole.css';\nconst CreateRole = props =>{\n    //USE EFFECT COMPONENTS\n    useEffect (()=>{\n        let token = localStorage.getItem('token')\n        props.onFetchOrganizations(token);\n        props.onFetchAllPermissions(token);\n    },[]);\n\n    //USE STATE COMPONENTS\n\n\n    const [isPermLod,SetIsPermLod]= useState(true);\n    const [createOrgForm,SetcreateOrgForm]= useState({\n        name: {\n            elementType: 'input',\n            elementConfig: {\n                className:'formcontrol',\n                type: 'text',\n                placeholder: 'Role Name'\n            },\n            value: '',\n            validation: {\n                required: true,\n            },\n            valid: false,\n            touched: false\n        },\n        organization: {\n            label:'Organization',\n            elementType: 'dropdown',\n            elementConfig: {\n                className:'formcontrol',\n                \n            },\n            options:'',\n            value: 0,\n            valid: false,\n            touched: false\n        },\n        permissions: {\n            label:'Permissions',\n            elementType: 'select-multiple',\n            elementConfig: {\n                className:'formcontrol',\n                options:[]\n            },\n            options:'',\n            value: [],\n            valid: false,\n            touched: false\n        },\n        permisson_loaded:{\n            label: 'Permission Loaded',\n            elementType: 'check-box',\n            value: isPermLod\n        }\n       })\n\n\n    //VALIDITY CHECK\n    const checkValidity=(value, rules) =>{\n        let isValid = true;\n        if (!rules) {\n            return true;\n        }\n        \n        if (rules.required) {\n            isValid = value.trim() !== '' && isValid;\n        }\n\n        if (rules.minLength) {\n            isValid = value.length >= rules.minLength && isValid\n        }\n\n        if (rules.maxLength) {\n            isValid = value.length <= rules.maxLength && isValid\n        }\n\n        if (rules.isEmail) {\n            const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n            isValid = pattern.test(value) && isValid\n        }\n\n        if (rules.isNumeric) {\n            const pattern = /^\\d+$/;\n            isValid = pattern.test(value) && isValid\n        }\n\n        return isValid;\n    }\n\n\n    //UI COMPONENTS\n    let sidebar = <Sidebar/>;\n    let navbar =  <Navbar name ={localStorage.getItem('name')}/>;\n    let count = 0;\n    let form=  <Sidebar/>;\n    \n    return(\n        <div>\n            {navbar}\n            {sidebar}\n            <form className=\"CrtOrgForm\" >\n                <button >SUBMIT</button>\n            </form>\n    </div>)\n\n    }\n    \n    \n\nconst mapAllOrganizationsDispatchToProps =dispatch => {\n  \n    return{\n        onFetchOrganizations:(token) =>dispatch(actions.fetchOrganizations(token)),\n        onFetchAllPermissions:(token) =>dispatch(actions.fetchAllPermissions(token)),\n        //onCreateOrg:(name,email,owner,users,permissions_loaded,token)=>dispatch(actions.createOrg(name,email,owner,users,permissions_loaded,token))\n    };\n}\n\n\n//to access the errors and loading state \nconst mapStatetoProps = state =>{\n    console.log('main page crtrole',state)\n    return {\n    AllUsers: state.AllUsers.AllUsers,\n    loading:state.AllUsers.loading,\n    token:state.auth.token\n    };\n};\n\n\nexport default connect(mapStatetoProps, mapAllOrganizationsDispatchToProps)(CreateRole);\n"]},"metadata":{},"sourceType":"module"}